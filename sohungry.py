import osimport urllibfrom google.appengine.api import usersfrom google.appengine.ext import ndbimport jinja2import webapp2JINJA_ENVIRONMENT = jinja2.Environment(	loader=jinja2.FileSystemLoader(os.path.dirname(__file__)),	extensions=['jinja2.ext.autoescape'],	autoescape=True)	class Ingredient(ndb.Model):	i = ndb.StringProperty()	amount = ndb.IntegerProperty()	type = ndb.StringProperty()	class Recipe(ndb.Model):	name = ndb.StringProperty('n')	ingredients = ndb.StructuredProperty(Ingredient, repeated=True)	instructions = ndb.StringProperty('inst', repeated=True)class AddRecipe(webapp2.RequestHandler):	def post(self):		n = self.request.get('recipeName')		print n		query_params = {'recipeName' : n}		self.redirect('/upload?' + urllib.urlencode(query_params))	class Upload(webapp2.RequestHandler):	def get(self):		template = JINJA_ENVIRONMENT.get_template('upload.html')		self.response.write(template.render())		class MainPage(webapp2.RequestHandler):	def get(self):		template = JINJA_ENVIRONMENT.get_template('index.html')		self.response.write(template.render())		application = webapp2.WSGIApplication([	('/', MainPage),	('/upload', Upload),	('/addrecipe', AddRecipe),], debug=True)